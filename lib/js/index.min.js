/* (c) IGOR KOWALCZYK. All rights reserved. */

const toggletheme=document.querySelector('.theme-switch input[type="checkbox"]'),currenttheme=localStorage.getItem("theme"),meta=document.querySelector('meta[name="theme-color"]');function switchtheme(e){e.target.checked?(document.documentElement.setAttribute("data-theme","dark"),meta.setAttribute("content","#222"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),meta.setAttribute("content","#ffffff"),localStorage.setItem("theme","light"))}currenttheme&&(document.documentElement.setAttribute("data-theme",currenttheme),"dark"===currenttheme&&(toggletheme.checked=!0)),toggletheme.addEventListener("change",switchtheme,!1);var scrollposition=window.scrollY,logocontainer=document.getElementsByClassName("nav")[0];window.addEventListener("scroll",function(){(scrollposition=window.scrollY)>=40?logocontainer.classList.add("nav-scrolled"):logocontainer.classList.remove("nav-scrolled")}),document.addEventListener("click",function(e){if("A"===e.target.tagName&&e.target.href&&"_blank"!=e.target.target){e.preventDefault();var t=e.target;document.body.style.opacity=0,document.body.addEventListener("transitionend",function(){location.href=t.href})}});let images=[].slice.call(document.querySelectorAll("img.lazy")),active=!1;const load=function(){!1===active&&(active=!0,setTimeout(function(){images.forEach(function(e){if(!e.dataset.src)return e.classList.remove("lazy");e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.src=e.dataset.src,e.classList.remove("lazy"),0===(images=images.filter(function(e){return e!=e})).length&&(document.removeEventListener("scroll",load),window.removeEventListener("resize",load),window.removeEventListener("orientationchange",load)))}),active=!1},200))};load();var date=document.querySelector(".date");date.innerHTML=(new Date).getFullYear();
